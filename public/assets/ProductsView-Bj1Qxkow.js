import{_ as m,g as d}from"./get-products.action-Daub2K6R.js";import{u as y,e as _,w as f,d as g,f as b,c,o as i,a as e,h as p,F as x,r as w,n as v,l as q,m as C,t as u,i as a,R as N}from"./index-Ctxg39xo.js";import{u as P,a as k}from"./get-product-image.action-3yarFjY4.js";const F=()=>{const r=y(),o=_(Number(r.query.page||1));return f(()=>r.query.page,t=>{o.value=Number(t||1),window.scrollTo({top:0,behavior:"smooth"})}),{page:o}},T={class:"bg-white px-5 py-2 rounded"},V={class:"py-8 w-full"},B={class:"shadow overflow-hidden rounded border-b border-gray-200"},Q={class:"min-w-full bg-white"},R={class:"text-gray-700"},j={class:"text-left py-3 px-4"},z=["src","alt"],E={class:"text-left py-3 px-4"},K={class:"text-center py-3 px-4"},L={class:"bg-blue-200 text-blue-600 py-1 px-3 rounded-full text-xs"},$={class:"text-left py-3 px-4"},G=g({__name:"ProductsView",setup(r){const o=P(),{page:t}=F(),{data:n=[]}=k({queryKey:["products",{page:t}],queryFn:()=>d(t.value)});return b(()=>{o.prefetchQuery({queryKey:["products",{page:t.value+1}],queryFn:()=>d(t.value+1)})}),(A,l)=>(i(),c(x,null,[e("div",T,[l[1]||(l[1]=e("h1",{class:"text-3xl"},"Productos",-1)),e("div",V,[e("div",B,[e("table",Q,[l[0]||(l[0]=e("thead",{class:"bg-gray-800 text-white"},[e("tr",null,[e("th",{class:"w-10 text-left py-3 px-4 uppercase font-semibold text-sm"},"Imagen"),e("th",{class:"flex-1 text-left py-3 px-4 uppercase font-semibold text-sm"},"TÃ­tulo"),e("th",{class:"w-28 py-3 px-4 uppercase font-semibold text-sm"},"Precio"),e("th",{class:"w-60 text-left py-3 px-4 uppercase font-semibold text-sm"},"Tallas")])],-1)),e("tbody",R,[(i(!0),c(x,null,w(a(n),(s,h)=>(i(),c("tr",{key:s.id,class:v({"bg-gray-100":h%2===0})},[e("td",j,[e("img",{src:s.images[0],alt:s.title,class:"h-10 w-10 object-cover"},null,8,z)]),e("td",E,[p(a(N),{to:`/admin/products/${s.id}`,class:"hover:text-blue-500 hover:underline"},{default:q(()=>[C(u(s.title),1)]),_:2},1032,["to"])]),e("td",K,[e("span",L,u(s.price),1)]),e("td",$,u(s.sizes.join(", ")),1)],2))),128))])])])])]),p(m,{page:a(t),"has-more-data":!!a(n)&&a(n).length<10},null,8,["page","has-more-data"])],64))}});export{G as default};
